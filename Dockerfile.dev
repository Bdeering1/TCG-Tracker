FROM node:18-bullseye-slim

ARG PORT=8080
ENV PORT=$PORT

WORKDIR /app

RUN npm install pnpm -g

COPY . .

RUN pnpm install --frozen-lockfile

EXPOSE $PORT
CMD ["npm", "run", "dev-watch"]